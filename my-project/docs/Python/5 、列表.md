[TOC]

---

## ä¸€ã€åŸºç¡€

### 1ã€åˆ›å»º

```python
# ä½¿ç”¨æ–¹æ‹¬å· [] ç›´æ¥åˆ›å»ºåˆ—è¡¨
[2, 4, 6, 8]
```

```python
# ä½¿ç”¨ range() åˆ›å»ºä¸€ä¸ªèŒƒå›´çš„åˆ—è¡¨
x = list(range(50))
```

```python
# é€šè¿‡ append() æ–¹æ³•åŠ¨æ€æ·»åŠ å…ƒç´ 
my_list = []
my_list.append(1)
my_list.append(2)
```

- åˆ—è¡¨å¯ä»¥å«æœ‰**å„ç§æ•°æ®ç±»å‹**çš„å…ƒç´ 

```python
petInfo = ['cat', 'Tom', 14, 16.7, True] * 2	# listå¯ä»¥åšä¹˜æ³•æ“ä½œï¼Œå’Œå­—ç¬¦ä¸²ç±»ä¼¼
print(petInfo)
print(f"Type of petInfo: {type(petInfo)}")
print(f"Length of petInfo: {len(petInfo)}")
```

---

### 2ã€å†…å»ºå‡½æ•°

```python
even = [2, 4, 6, 8]
print(f"Sum = {sum(even)},\nMin = {min(even)},\nMax = {max(even)},\nLen = {len(even)}")
```

---

### 3ã€æ¯”è¾ƒ

```python
a = [10, 20, 30]
b = a	# b ä¸ a åœ¨å†…å­˜ä¸­æŒ‡å‘åŒä¸€å¤„ï¼Œä¹Ÿç§° b æ˜¯ a çš„ alias
c = [10, 20, 30]
print(f"a==b? {a == b}")
print(f"a==c? {a == c}")

print(f"a is b? {a is b}")
print(f"a is c? {a is c}")	# False
```

```python
#  å¦‚ä¸‹å¤åˆ¶æ“ä½œä¸åŒäº alias
import copy
b = copy.copy(a)	# å¤åˆ¶æ“ä½œï¼Œè¿™æ—¶å€™æ”¹å˜ c ä¸å½±å“ a
c = a[:]
d = a + [ ]
e = list(a)
```

---

### 4ã€éå†

```python
for item in a:
    print(item)

for i in range(len(a)):
    print(a[i])
```

!!! danger "éå†ä¸­ä¿®æ”¹åˆ—è¡¨"

    åœ¨ Python ä¸­ï¼Œç”¨ `for item in a` éå†åˆ—è¡¨æ—¶ï¼Œå…¶å®æ˜¯æŒ‰ **ç´¢å¼•é¡ºåº**è®¿é—®æ¯ä¸ªå…ƒç´ çš„ã€‚è€Œå½“ä½ åœ¨å¾ªç¯ä¸­ä½¿ç”¨ `a.remove(item)` åˆ é™¤å…ƒç´ æ—¶ï¼Œ**åˆ—è¡¨çš„ç»“æ„ä¼šç«‹åˆ»æ”¹å˜**ï¼Œç´¢å¼•é¡ºåºå°±ä¹±äº†ï¼Œå¯¼è‡´è·³è¿‡äº†ä¸€äº›å…ƒç´ ã€‚
    
    ```python
    a = [3, 3, 2, 3, 4]
    for item in a:     
        if (item == 3):
          a.remove(item)
    print(a) 
    ```

---

### 5ã€æ’åº

- **ç ´åæ€§çš„**âš¡

```python
a = [7, 2, 5, 3, 5, 11, 7]
print("At first, a =", a)

a.sort()
print("After a.sort(), a =", a)

a.reverse()
print(a)
```

- éç ´åæ€§çš„

```python
a = [7, 2, 5, 3, 5, 11, 7]
b = sorted(a)
# sorted() ç›´æ¥è¿”å›åˆ—è¡¨å¯ä»¥ç›´æ¥æ‰“å°
print(b)
# reversed() è¿”å›çš„æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå¯ä»¥åœ¨ for å¾ªç¯ä¸­ä½¿ç”¨ã€‚
for item in reversed(a):
    print(item, end=" ")
```

| æ“ä½œç±»å‹ | ç ´åæ€§ï¼ˆä¿®æ”¹åŸåˆ—è¡¨ï¼‰                             | éç ´åæ€§ï¼ˆç”Ÿæˆæ–°åˆ—è¡¨ï¼‰                  |
| -------- | ------------------------------------------------ | --------------------------------------- |
| èµ‹å€¼     | `b = a`                                          | `b = a[:]` / `copy.copy(a)` / `list(a)` |
| æ·»åŠ å…ƒç´  | `a.append(x)` / `a.extend([...])` / `a += [...]` | `a = a + [...]`                         |
| åˆ é™¤å…ƒç´  | `a.pop()` / `a.pop(i)` / `a.remove(x)`           | `a = a[:i] + a[i+1:]`                   |
| æ’å…¥å…ƒç´  | `a.insert(i, x)`                                 | `a = a[:i] + [x] + a[i:]`               |
| æ’åº     | `a.sort()`                                       | `a = sorted(a)`                         |
| åè½¬     | `a.reverse()`                                    | `a = list(reversed(a))`                 |

---

### 6ã€å¸¸ç”¨æ–¹æ³•

| æ–¹æ³•                                 | è¯´æ˜                                                         |
| ------------------------------------ | ------------------------------------------------------------ |
| `list.append(obj)`                   | åœ¨**æœ«å°¾**æ·»åŠ æ–°çš„å¯¹è±¡                                       |
| `list.count(obj)`                    | **ç»Ÿè®¡**æŸä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°                                   |
| `list.extend(seq)`                   | åœ¨åˆ—è¡¨æœ«å°¾ä¸€æ¬¡æ€§è¿½åŠ å¦ä¸€ä¸ªåºåˆ—ä¸­çš„å¤šä¸ªå€¼ï¼ˆç”¨æ–°åˆ—è¡¨æ‰©å±•åŸæ¥çš„åˆ—è¡¨ï¼‰ |
| `list.index(obj)`                    | æ‰¾å‡ºæŸä¸ªå€¼ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ä½ç½®                             |
| `list.insert(index, obj)`            | å°†å¯¹è±¡æ’å…¥æŒ‡å®šä½ç½®                                           |
| `list.pop([index=-1])`               | ç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼ˆé»˜è®¤æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå¹¶ä¸”è¿”å›è¯¥å…ƒç´ çš„å€¼         |
| `list.remove(obj)`                   | ç§»é™¤æŸä¸ªå€¼çš„**ç¬¬ä¸€ä¸ª**åŒ¹é…é¡¹                                 |
| `list.reverse()`                     | **åå‘**åˆ—è¡¨ä¸­å…ƒç´                                            |
| `list.sort(key=None, reverse=False)` | æ’åºï¼Œ`key` æ§åˆ¶æ’åºä¾æ®ï¼Œ`reverse` æ§åˆ¶é¡ºåº                 |
| `list.clear()`                       | æ¸…ç©ºåˆ—è¡¨                                                     |
| `list.copy()`                        | å¤åˆ¶åˆ—è¡¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ—è¡¨å¯¹è±¡                               |

---

### â€» å…ƒç»„

- å…ƒç»„å’Œåˆ—è¡¨ç±»ä¼¼ï¼Œåªæ˜¯**ä¸èƒ½ä¿®æ”¹**
- ç”¨ `()` åŒ…è£¹

---

## äºŒã€è¿›é˜¶

### 1ã€åˆ—è¡¨æ¨å¯¼å¼

```python
[expression for item in iterable if condition]
```

- `expression`: ç»“æœè¡¨è¾¾å¼ï¼ˆå¯ä»¥æ˜¯ä»»æ„è®¡ç®—ï¼Œå¦‚ `i*100`ï¼‰
- `item`: éå†å˜é‡
- `iterable`: ä»»ä½•å¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚ `range`, `list`, `string`ï¼‰
- `if condition`: å¯é€‰è¿‡æ»¤æ¡ä»¶

```python
a = [(i * 100) for i in range(20) if i % 5 == 0]
squares = [x**2 for x in range(10)]
```

---

### 2ã€å­—ç¬¦ä¸²ğŸ”åˆ—è¡¨

- å­—ç¬¦ä¸² â†’ åˆ—è¡¨

```python
a = list("wahoo!")	# ä½¿ç”¨list("")
print(a)
# è¾“å‡º: ['w', 'a', 'h', 'o', 'o', '!']

s = "How are you doing today?"
a = s.split(" ")	# ä½¿ç”¨ .split("") æ–¹æ³•
print(a)
# è¾“å‡º: ['How', 'are', 'you', 'doing', 'today?']
```

- åˆ—è¡¨ â†’ å­—ç¬¦ä¸²

```python
words = ["parsley", "is", "gharsley"]
print("".join(words))   # è¾“å‡º: parsleyisgharsley
print(" ".join(words))  # è¾“å‡º: parsley is gharsley
```

## ä¸‰ã€äºŒç»´åˆ—è¡¨

### 1ã€åˆ›å»º

```python
a = [ [ 2, 3, 4 ] , [ 5, 6, 7 ] ]
```

!!! failure

    ä½¿ç”¨ `*` åˆ›å»ºäºŒç»´æ•°ç»„ï¼ˆäº§ç”Ÿæµ…æ‹·è´ï¼‰
    
    ```
    a = [[0] * cols] * rows
    ```
    
    - è¿™ä¸ªå†™æ³•**çœ‹èµ·æ¥åƒæ˜¯åˆ›å»ºäº† `rows` ä¸ªä¸åŒè¡Œ**ã€‚
      - å®é™…ä¸Šï¼Œ**æ¯ä¸€è¡Œéƒ½æŒ‡å‘åŒä¸€ä¸ªå†…å­˜å¯¹è±¡**ï¼Œæ˜¯**åŒä¸€è¡Œçš„å¤šä¸ªåˆ«åï¼ˆshallow copyï¼‰**ã€‚



- ä½¿ç”¨ `append()` æ–¹æ³•

```python
a = []
for row in range(rows):
    a += [[0]*cols]  # or a.append([0]*cols)
```

- ä½¿ç”¨æ¨å¯¼å¼

```python
a = [[0]*cols for row in range(rows)]
```

- å°è£…æˆå‡½æ•°

```python
def make2dList(rows, cols):
    return [[0]*cols for row in range(rows)]

a = make2dList(3, 2)
```

---

### 2ã€ç»´æ•°

```python
a = [ [ 2, 3, 5] , [ 1, 4, 7 ] ]
print("a = ", a)

rowsï¼Œcols = len(a)ï¼Œlen(a[0])
print("rows =", rows)	# 2
print("cols =", cols)	# 3
```

---

### 3ã€æ‹·è´

```python
import copy

a = [ [ 1, 2, 3 ] , [ 4, 5, 6 ] ]

b = copy.copy(a) # Error:  shallow copy
c = copy.deepcopy(a)	# ä½¿ç”¨deepcopyå³å¯


print("At first...")
print("   a =", a)
print("   b =", b)


a[0][0] = 9
print("But after a[0][0] = 9")
print("   a =", a)
print("   b =", b)	# æµ…æ‹·è´å¯¼è‡´æ”¹å˜ a[0][0] æ—¶ä¹Ÿæ”¹å˜ b[0][0]
```


??? example "å¯¹é½æ‰“å°"

    ```python
    # è¾…åŠ©å‡½æ•°ï¼šç”¨äºæŸ¥æ‰¾äºŒç»´åˆ—è¡¨ä¸­æœ€é•¿å…ƒç´ çš„å­—ç¬¦ä¸²é•¿åº¦
    def maxItemLength(a):
        maxLen = 0
        for row in range(len(a)):
            for col in range(len(a[row])):
                # ä½¿ç”¨ repr() å¯ä»¥å…¼å®¹æ˜¾ç¤ºæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€None ç­‰å„ç§ç±»å‹
                maxLen = max(maxLen, len(repr(a[row][col])))
        return maxLen
    
    # æ‰“å°äºŒç»´åˆ—è¡¨çš„å‡½æ•°ï¼ˆç¾è§‚æ ¼å¼åŒ–ï¼Œå¹¶å¸¦æœ‰è¡Œåˆ—æ ‡ç­¾ï¼‰
    def print2dList(a):
        if a == []:
            print([])  # ç©ºåˆ—è¡¨ç›´æ¥æ‰“å°
            return
        
        rows, cols = len(a), len(a[0])  # å®é™…è¡Œæ•°å’Œç¬¬ä¸€è¡Œçš„åˆ—æ•°
        maxCols = max([len(row) for row in a])  # å¤„ç† ragged listï¼ˆæ¯è¡Œåˆ—æ•°ä¸åŒï¼‰
        fieldWidth = max(maxItemLength(a), len(f'col={maxCols-1}'))  # æ¯åˆ—çš„å®½åº¦ï¼Œè‡³å°‘èƒ½å®¹çº³åˆ—æ ‡ç­¾
        rowLabelSize = 5 + len(str(rows-1))  # è¡Œæ ‡ç­¾å®½åº¦ï¼ŒåŠ¨æ€è°ƒæ•´ä»¥é€‚åº”è¡Œæ•°
        rowPrefix = ' ' * rowLabelSize + ' '  # æ¯è¡Œå‰ç¼€ï¼Œç”¨äºåˆ—æ ‡é¢˜å¯¹é½
        rowSeparator = rowPrefix + '|' + ('-' * (fieldWidth + 3) + '|') * maxCols  # æ¯è¡Œä¹‹é—´çš„åˆ†å‰²çº¿
        
        # æ‰“å°åˆ—æ ‡é¢˜ï¼ˆcol=0, col=1, ...ï¼‰ï¼Œå±…ä¸­å¯¹é½
        print(rowPrefix, end='  ')
        for col in range(maxCols):
            print(f'col={col}'.center(fieldWidth + 2), end='  ')
        print('\n' + rowSeparator)
        
        # éå†æ¯ä¸€è¡Œå¹¶æ‰“å°å…¶å†…å®¹
        for row in range(rows):
            # æ‰“å°è¡Œæ ‡ç­¾ï¼ˆrow=0, row=1, ...ï¼‰
            print(f'row={row}'.center(rowLabelSize), end=' | ')
            # æ‰“å°è¯¥è¡Œçš„æ¯ä¸ªå…ƒç´ ï¼Œå±…ä¸­å¯¹é½
            for col in range(len(a[row])):
                print(repr(a[row][col]).center(fieldWidth + 1), end=' | ')
            # å¯¹äº ragged list ä¸­ç¼ºå¤±çš„åˆ—ï¼Œç”¨ âœ– å¡«å……
            missingCellChar = chr(10006)  # Unicode ç¼–å· 10006ï¼Œå³ âœ–
            for col in range(len(a[row]), maxCols):
                print(missingCellChar * (fieldWidth + 1), end=' | ')
            print('\n' + rowSeparator)
        print()
    
    # ç¤ºä¾‹æ•°æ®
    a = [ [ 1, -1023, 3 ] , [ 4, 5, 678 ] ]
    b = [ [123, 4567, 891011], [567890, 'ABC'], ['Amazing!', True, '', -3.14, None]]
    
    # æ‰“å°ç¤ºä¾‹åˆ—è¡¨
    print2dList(a)
    print2dList(b)
    
    ```

---

