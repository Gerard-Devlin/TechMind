[TOC]

------

## 一、时序电路概述

![Sequential Logic Circuit.svg](../assets/images/DLD/Sequential%20Logic%20Circuit.svg)

$$
输出方程：Z=F(X,Q) \\
$$

$$
激励方程：Y=G(X,Q) \\
$$

$$
状态方程：Q_{n+1}=H(Y,Q)
$$

### 1、分类

- 根据时钟：
    - 同步：一个钟
    - 异步：多个钟
- 根据输出：
    - 米里（Mealy）：输出**依赖当前状态 + 输入**，==输出状态方程含输入 $x$== $Z=f(x,Q)$
    - 摩尔（Moore）：输出**只依赖当前状态**，$Z=f(Q)$

没有外部输入：摩尔型

Moore型电路的输出将比Mealy型电路晚一个时钟周期。

### 2、电路分析


$x=0$ ，实现的是 $\mod 4$ 加法，$x=1$ 实现 $\mod 4$ 减法

- 如果构成一个环，就是 $\mod x$ 计数器，因为时序电路状态永远可数
- 有效状态：环里
- 无效状态：环外
- 自启动：经过有限时间**能进入环**
- 波形图根据状态转移图绘制即可

!!! tip "分析方法"

    ```mermaid
    flowchart LR
        A[逻辑电路] --> B[① 输出方程<br/>激励方程]
        B --> C[② 状态方程]
        C --> D[③ 状态转移图]
        D --> E[逻辑功能<br/>时序波形]
    ```

### 3、典型时序逻辑电路

#### （1）寄存器（Register）

- 单拍寄存器是在 **一个时钟有效沿（上升沿或下降沿）** 完成一次数据锁存与更新的寄存器。
   特点是：
    - **一次时钟脉冲只触发一次存储动作**；
    - 电路结构简单、时序清晰；
    - 在边沿到来时瞬间采样输入，其余时间保持稳定。
- 两拍寄存器由 **两个交替导通的锁存器（主锁存器 Master + 从锁存器 Slave）** 串联构成。
   特点是：
    - 输入数据先被主锁存器锁存，再由从锁存器在下一相位输出；
    - **等效为边沿触发，但利用两相非重叠时钟控制**；
    - 能避免毛刺，提高时序稳定性。

![4-Bit_SIPO_Shift_Register.svg](../assets/images/DLD/4-Bit_SIPO_Shift_Register.svg)

!!! example "移位寄存器（Shift-Register）"

    - **数据移位（左移 / 右移）**
    - **串入并出 / 并入串出转换**
    - **数据暂存与延时**
    - **序列产生与序列检测**

#### （2）计数器（Counter）

计数器是一种由触发器组成的时序电路，在时钟驱动下按预定规律 **对二进制数进行自动加一、减一或按特定序列变化**。

它的主要功能是：

- **计数（加计数 / 减计数）**
- **分频**
- **产生状态序列**
- **事件/脉冲计量**

计数器的每个触发器代表计数值的一位，时钟脉冲使计数器在各状态之间自动循环。

!!! tip

	$n$ 进制计数器就要 $m$ 个计数器，$2^m\geq n$，如果大于那就需要检查是否自启动

---

## 二、时序电路设计

```mermaid
flowchart LR
    A[①设计需求</br>（语言描述）] --> B[②原始状态图</br>（状态表）]
    B -->|状态化简| C[③最简状态图</br>（状态表）]
    C -->|状态分配| D[④二进制状态表]
    D -->|选择触发器| E[⑤激励方程 </br> 输出方程]
    E --> F[⑥逻辑电路图]
    F --> G[注意自启动检查！]

    style G fill:#f9f,stroke:#333,stroke-width:2px
```

!!! example "序列检测"

	因为序列，所以需要存储，需要用到时序逻辑

状态简化的目的：减少触发器数目；简化组合逻辑电路 → **状态等价就可化简**

