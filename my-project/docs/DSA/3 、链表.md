<h1>
    é“¾è¡¨
</h1>

[TOC]

---

## ä¸€ã€å®šä¹‰

![list.svg](../assets/images/DSA/list.svg)

```c++
struct Node{
    int data;	//4 bytes
    Node *next;	//4 bytes
}
```

æœ‰å¤´ç»“ç‚¹çš„åœ°å€å°±èƒ½è®¿é—®æ•´ä¸ªé“¾è¡¨

- ä¸æ•°ç»„å¯¹æ¯”


- |          | æ•°ç»„                 | é“¾è¡¨                 |
  | -------- | -------------------- | -------------------- |
  | è®¿é—®     | $O(1)$               | $O(n)$               |
  | å†…å­˜     | å›ºå®š                 | æ— å¤šä½™               |
  |          | éœ€è¦è¶³å¤Ÿå¤§çš„æ•°ç»„é•¿åº¦ | å¤šä½™å†…å­˜ç”¨äºå‚¨å­˜æŒ‡é’ˆ |
  | æ’å…¥åˆ é™¤ | a) å¤´æ’-$O(n)$       | a)-$O(1)$            |
  |          | b)å°¾æ’ -$O(1)$       | b)-$O(n)$            |
  | ä¾¿æ·     | âœ”ï¸                    | âŒ                    |
  

---

## äºŒã€åŸºæœ¬æ“ä½œï¼ˆå•å‘é“¾è¡¨ï¼‰
```c++
Node *A;
A = NULL;
Node *temp = new Node();

(*temp).data = 2;
(*temp).link = NULL;

A = temp;
```

### â€» éå†

```c++
while (temp1->link != NULL) {
    temp1 = temp1->link;
}
```

---

### 1ã€å¤´æ’

```c++
struct Node {
    int data;
    Node *next;
};

struct Node *head; 

void Insert(int x) {
    Node *temp = new Node(); 

    temp->data = x;
    temp->next = head;
    head = temp;
}
void Print() {
    struct Node *temp = head;
    printf("List is:");
    while (temp != NULL) {
        printf("%d ", temp->data);
        temp = temp->next;
    }
    printf("\n");
}

int main() {
    head = NULL; // empty list
    printf("How many numbers?");
    int n, i, x;
    scanf("%d", &n);
    for (i = 0; i < n; i++) {
        printf("Enter number:");
        scanf("%d", &x);
        Insert(x);
        Print();
    }
}
```

---

### 2ã€ä¸­é—´æ’å…¥

![list-insert-1.svg](../assets/images/DSA/list-insert-1.svg)

![list-insert-2.svg](../assets/images/DSA/list-insert-2.svg)

![list-insert-3.svg](../assets/images/DSA/list-insert-3.svg)

```c++
struct Node {
    int data;
    Node *next;
};

struct Node *head; 

void Insert(int data, int n);
void Print();

int main() {
    head = NULL;  // empty list
    Insert(2, 1); // List:2
    Insert(3, 2); // List:2,3
    Insert(4, 1); // list:4,2,3
    Insert(5, 2); // List:4,5,2,3
    Print();
}


void Insert(int data, int n) {
    Node *temp1 = new Node();
    temp1->data = data;
    temp1->next = NULL;
    if (n == 1) { // in case to insert in the beginning
        temp1->next = head;
        head = temp1;
        return;
    }
    Node *temp2 = head; // temp2 is an aid for finding the position
    for (int i = 0; i < n - 2; i++) {
        temp2 = temp2->next;
    } // go to the n-1 node
    temp1->next = temp2->next;
    temp2->next = temp1;
}


void Print() {
    Node *temp = head;
    while (temp != NULL) {
        printf("%d ", temp->data);
        temp = temp->next;
    }
    printf("\n");
}
```

---

### 3ã€åˆ é™¤

- **ä¿®å¤æŒ‡é’ˆé“¾æ¥ï¼ˆfix the linksï¼‰**
   åœ¨åˆ é™¤æŸä¸ªèŠ‚ç‚¹ `node` æ—¶ï¼Œéœ€è¦ä¿®æ”¹å‰é©±èŠ‚ç‚¹çš„ `next` æŒ‡é’ˆï¼ˆå¯¹äºå•é“¾è¡¨ï¼‰æˆ–åŒæ—¶ä¿®æ”¹å‰é©±å’Œåç»§æŒ‡é’ˆï¼ˆå¯¹äºåŒå‘é“¾è¡¨ï¼‰ï¼Œä½¿å…¶ç»•è¿‡è¯¥èŠ‚ç‚¹ï¼Œä¿æŒé“¾è¡¨ç»“æ„å®Œæ•´ã€‚
- **é‡Šæ”¾å†…å­˜ç©ºé—´ï¼ˆfree the space from memoryï¼‰**
   åˆ é™¤èŠ‚ç‚¹åï¼Œéœ€è¦è°ƒç”¨ `delete`ï¼ˆC++ï¼‰æˆ– `free`ï¼ˆCï¼‰é‡Šæ”¾è¯¥èŠ‚ç‚¹å ç”¨çš„å†…å­˜ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚

```c++
struct Node {
    int data;
    Node *next;
};
struct Node *head; // global

void Insert(int data); // insert at the end of the list
void Print();          // print all the elements in the list
void Delete(int n);    // delete node at position n

int main() {
    head = NULL;
    Insert(2);
    Insert(4);
    Insert(6);
    Insert(5); // List:5,6,4,2
    int n;
    printf("Enter a position:\n");
    scanf("%d", &n);
    Delete(n);
    Print();
}


void Delete(int n) {
    Node *temp1 = head;
    int i;
    if (n == 1) {
        head = temp1->next;
        free(temp1);
        return;
    }

    for (i = 0; i < n - 2; i++) {
        temp1 = temp1->next;
    } // temp1 points to the (n-1)th node
    struct Node *temp2 = temp1->next;
    temp1->next = temp2->next;
    free(temp2); // delete temp2
}

void Insert(int x) {
    struct Node *temp = new Node();
    temp->data = x;
    temp->next = head;
    head = temp;
}
void Print() {
    Node *temp = head;
    while (temp != NULL) {
        printf("%d ", temp->data);
        temp = temp->next;
    }
    printf("\n");
}
```

---

## ä¸‰ã€åè½¬

### 1ã€è¿­ä»£

```c++
void Reverse() {
    Node *next, *prev, *current;
    current = head;  // å½“å‰éå†åˆ°çš„èŠ‚ç‚¹
    prev = NULL;     // å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆå§‹ä¸º NULLï¼ˆæ–°çš„å°¾èŠ‚ç‚¹ï¼‰

    while (current != NULL) {
        next = current->next;      // ä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
        current->next = prev;      // åè½¬æŒ‡é’ˆæ–¹å‘
        prev = current;            // prev å‰ç§»
        current = next;            // current å‰ç§»
    }

    head = prev;  // æœ€ç»ˆ prev ä¼šæŒ‡å‘æ–°å¤´èŠ‚ç‚¹
}
```

??? example

    ```c++
    struct Node {
        int data;
        Node* next;
    };
    
    struct Node* head;
    
    struct Node* Insert(Node* head, int data);
    void Print(Node* head);
    struct Node* Reverse(Node* head);
    
    int main() {
        head = NULL;
        head = Insert(head, 2);
        head = Insert(head, 4);
        head = Insert(head, 6);
        head = Insert(head, 8);
        head = Reverse(head);
        Print(head);
    }
    
    struct Node* Insert(Node* head, int data) {
        Node* temp = new Node();
        temp->data = data;
        temp->next = NULL;
    
        if (head == NULL) {
            head = temp;
        } else {
            Node* current = head;
            while (current->next != NULL) {
                current = current->next;
            }
            current->next = temp;
        }
        return head;
    }
    
    void Print(Node* head) {
        while (head != NULL) {
            cout << head->data << " ";
            head = head->next;
        }
        std::cout << std::endl;
    }
    
    struct Node* Reverse(Node* head) {
        Node* next = NULL;
        Node* prev = NULL;
        Node* current = head;
    
        while (current != NULL) {
            next = current->next;
            current->next = prev;
            prev = current;
            current = next;
        }
        head = prev;
        return head;
    }
    ```

---

### 2ã€é€’å½’æ‰“å°

!!! tip
      é€’å½’å°±æ˜¯è‡ªæˆ‘è°ƒç”¨

```c++
/* æ­£å¸¸æ‰“å° */
void Print(struct Node* p) {
    if(p == NULL) return;            // é€’å½’ç»ˆæ­¢æ¡ä»¶
    printf("%d ", p->data);          // å…ˆæ‰“å°å½“å‰èŠ‚ç‚¹çš„å€¼
    Print(p->next);                  // å†æ‰“å°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆé€’å½’ï¼‰
}
```

```c++
/* é€’å½’åè½¬æ‰“å° */
void ReversePrint(struct Node* q) {
    if (q == NULL) return;             // é€’å½’ç»ˆæ­¢æ¡ä»¶
    ReversePrint(q->next);             // å…ˆé€’å½’åˆ°åº•
    printf("%d ", q->data);            // å†é€å±‚â€œå›æº¯â€æ‰“å°
}
```

??? example

    ```c++
    struct Node {
        int data;
        Node *next;
    };
    
    struct Node *Insert(Node *head, int data) {
        Node *temp = new Node;
        temp->data = data;
        temp->next = NULL;
        if (head == NULL) {
            head = temp;
        } else {
            Node *current = head;
            while (current->next != NULL) {
                current = current->next;
            }
            current->next = temp;
        }
        return head;
    }
    
    void Print(struct Node *p) {
        // recursion
        // 2 6 5 4
        if (p == NULL)
            return;             // Exit Recursion
        printf("%d ", p->data); // First print the value int the node
        Print(p->next);         // Recursive call
    }
    
    void ReversePrint(struct Node *q) {
        // recursion
        // 4 5 6 2
        if (q == NULL)
            return;             // Exit Recursion
        ReversePrint(q->next);  // First do a Recursive call
        printf("%d ", q->data); // print the value int the node
    }
    
    int main() {
        struct Node *head = NULL; // local variable,empty list
        head = Insert(head, 2);
        head = Insert(head, 4);
        head = Insert(head, 6);
        head = Insert(head, 5);
        Print(head);
        printf("\n");
        ReversePrint(head);
    }
    ```


---

### 3ã€é€’å½’åè½¬

```c++
struct Node* head; // å…¨å±€é“¾è¡¨å¤´æŒ‡é’ˆ

void Reverse(struct Node* p) {
    if (p->next == NULL) { // é€’å½’åˆ°åº•ï¼ˆæœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼‰
        head = p;          // æœ€åä¸€ä¸ªèŠ‚ç‚¹å˜æˆæ–°çš„å¤´èŠ‚ç‚¹
        return;
    }

    Reverse(p->next);       // é€’å½’å¤„ç†å­é“¾è¡¨

    Node* q = p->next;      // åè½¬å½“å‰ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„é“¾æ¥
    q->next = p;
    p->next = NULL;         // å½“å‰èŠ‚ç‚¹è®¾ä¸ºå°¾èŠ‚ç‚¹
}
```


!!! tip

    === "C++"
    
        ``` c++
        Node *q=p->next;
        q->next=p;
        // ä¹Ÿå¯ä»¥å†™ä½œ
        p->next->next=p
        ```

---

## å››ã€åŒå‘é“¾è¡¨

```c++
struct Node {
    int data;
    Node* next;
    Node* prev;

    // æ„é€ å‡½æ•°ï¼šæ–¹ä¾¿ç›´æ¥åˆå§‹åŒ–
    Node(int val) : data(val), next(nullptr), prev(nullptr) {}
};
```
![double-list.svg](../assets/images/DSA/double-list.svg)

!!! info
    | **ä¼˜ç‚¹**                          | **ç¼ºç‚¹**                                         |
    | --------------------------------- | ------------------------------------------------ |
    | å…è®¸åå‘éå†ï¼ˆ`Reverse look-up`ï¼‰ | æ¯ä¸ªèŠ‚ç‚¹éœ€è¦é¢å¤–çš„æŒ‡é’ˆï¼ˆ`prev`ï¼‰æ¥æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ |

---

### 1ã€åˆ›å»º

```c++
struct Node *GetNewNode(int x) {
    Node *newNode = new Node;
    newNode->data = x;
    newNode->prev = NULL;
    newNode->next = head;
    return newNode;
}
```

### 2ã€å¤´æ’

```c++
void InsertAhead(int x) {
    struct Node *newNode = GetNewNode(x);   // é€šè¿‡ GetNewNode(x) åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼ŒnewNode æ˜¯å±€éƒ¨å˜é‡ï¼Œå‡½æ•°å†…ç‹¬ç«‹å­˜åœ¨
    if (head == NULL) {  // å¦‚æœé“¾è¡¨ä¸ºç©º
        head = newNode;  // å°†æ–°èŠ‚ç‚¹ä½œä¸ºå¤´èŠ‚ç‚¹
        return;  // ç»“æŸå‡½æ•°
    }
    head->prev = newNode;  // è®©åŸé“¾è¡¨çš„å¤´èŠ‚ç‚¹çš„ prev æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹
    newNode->next = head;  // æ–°èŠ‚ç‚¹çš„ next æŒ‡é’ˆæŒ‡å‘åŸå¤´èŠ‚ç‚¹
    head = newNode;  // æ›´æ–°å¤´èŠ‚ç‚¹ä¸ºæ–°èŠ‚ç‚¹
}

```

### 3ã€æ‰“å°&åè½¬

```c++
void Print() {
    Node* temp = head;
    printf("Forward:");
    while (temp != NULL) {
        printf("%d ", temp->data);
        temp = temp->next;
    }
    printf("\n");
}


void ReversePrint() {
    Node* temp = head;
    if (temp == NULL) return; // å¦‚æœé“¾è¡¨ä¸ºç©ºï¼Œç›´æ¥è¿”å›
    // èµ°åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹
    while (temp->next != NULL) {
        temp = temp->next;
    }
    // ä½¿ç”¨ prev æŒ‡é’ˆä»å°¾å¾€å‰æ‰“å°
    printf("Reverse :");
    while (temp != NULL) {
        printf("%d ", temp->data);
        temp = temp->prev;
    }
    printf("\n");
}

```

---

### 4ã€ğŸ’–åº“å‡½æ•°`list`

```c++
int main() {
    list<int> myList;

    // æ’å…¥å…ƒç´ 
    myList.push_back(10);
    myList.push_back(20);
    myList.push_front(5);  // æ’å…¥åˆ°å¼€å¤´

    // éå†é“¾è¡¨
    cout << "æ­£å‘éå†: ";
    for (int val : myList) {
        cout << val << " ";
    }
    cout << endl;

    // åå‘éå†
    cout << "åå‘éå†: ";
    for (auto it = myList.rbegin(); it != myList.rend(); ++it) {
        cout << *it << " ";
    }
    cout << endl;

    // åˆ é™¤å…ƒç´ 
    myList.pop_front();  // åˆ é™¤å¤´èŠ‚ç‚¹
    myList.pop_back();   // åˆ é™¤å°¾èŠ‚ç‚¹

    cout << "åˆ é™¤åçš„é“¾è¡¨: ";
    for (int val : myList) {
        cout << val << " ";
    }
    cout << endl;
}

```

| å‡½æ•°            | ä½œç”¨                           |
| --------------- | ------------------------------ |
| `push_back(x)`  | å°¾éƒ¨æ’å…¥                       |
| `push_front(x)` | å¤´éƒ¨æ’å…¥                       |
| `pop_back()`    | åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´                |
| `pop_front()`   | åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´                  |
| `insert(it, x)` | åœ¨è¿­ä»£å™¨ `it` æŒ‡å‘çš„ä½ç½®å‰æ’å…¥ |
| `erase(it)`     | åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´              |
| `clear()`       | æ¸…ç©ºé“¾è¡¨                       |
| `size()`        | è¿”å›å…ƒç´ ä¸ªæ•°                   |
| `empty()`       | åˆ¤æ–­æ˜¯å¦ä¸ºç©º                   |
| `reverse()`     | åè½¬æ•´ä¸ªé“¾è¡¨                   |
| `sort()`        | æ’åºï¼ˆé»˜è®¤å‡åºï¼‰               |
| `remove(x)`     | åˆ é™¤æ‰€æœ‰å€¼ä¸º `x` çš„èŠ‚ç‚¹        |

---

